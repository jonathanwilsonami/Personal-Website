version: 1
frontend:
  phases:
    preBuild:
      commands:
        # Install Quarto CLI (Linux x86_64) from release tarball
        - QUARTO_VERSION=1.7.32
        - curl -L -o quarto.tar.gz https://github.com/quarto-dev/quarto-cli/releases/download/v${QUARTO_VERSION}/quarto-${QUARTO_VERSION}-linux-amd64.tar.gz
        - tar -xzf quarto.tar.gz
        - mv quarto-${QUARTO_VERSION} /opt/quarto
        - ln -s /opt/quarto/bin/quarto /usr/local/bin/quarto
        - quarto --version
    build:
      commands:
        # Render the Quarto project (outputs to _site by default)
        - quarto render
  artifacts:
    baseDirectory: _site
    files:
      - '**/*'
  cache:
    paths: []
